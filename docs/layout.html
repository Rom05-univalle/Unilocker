<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <title>UniLocker - Panel</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Font Awesome -->
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
          integrity="sha512-omZqsX3S5k7k2sXwxA2KzZ3+KkzPzLbq1ZC8qV2JhYH1O4YF86mG6Z9o1+P7e9p+Z6K6Wb9Y7a3J1gN5R5Q=="
          crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link href="css/styles.css" rel="stylesheet" />
</head>
<body class="bg-light">
<div class="d-flex">
    <!-- SIDEBAR -->
    <nav id="sidebar" class="bg-dark text-light flex-shrink-0 p-3 d-none d-md-block"
         style="min-height: 100vh; width: 230px;">
        <a href="dashboard.html"
           class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-light text-decoration-none">
            <i class="fa-solid fa-lock me-2"></i>
            <span class="fs-5 fw-semibold">UniLocker</span>
        </a>
        <hr class="border-secondary">
        <ul class="nav nav-pills flex-column mb-auto">
            <li class="nav-item">
                <a href="dashboard.html" class="nav-link text-light">
                    <i class="fa-solid fa-gauge-high me-2"></i> Dashboard
                </a>
            </li>
            <li>
                <a href="sessions.html" class="nav-link text-light">
                    <i class="fa-solid fa-clock-rotate-left me-2"></i> Sesiones
                </a>
            </li>
            <li>
                <a href="reports.html" class="nav-link text-light">
                    <i class="fa-solid fa-flag me-2"></i> Reportes
                </a>
            </li>
            <li class="mt-2">
                <span class="text-uppercase text-secondary small">Gestión</span>
            </li>
            <li>
                <a href="branches.html" class="nav-link text-light">
                    <i class="fa-solid fa-code-branch me-2"></i> Sucursales
                </a>
            </li>
            <li>
                <a href="blocks.html" class="nav-link text-light">
                    <i class="fa-solid fa-layer-group me-2"></i> Bloques
                </a>
            </li>
            <li>
                <a href="classrooms.html" class="nav-link text-light">
                    <i class="fa-solid fa-door-open me-2"></i> Aulas
                </a>
            </li>
            <li>
                <a href="computers.html" class="nav-link text-light">
                    <i class="fa-solid fa-desktop me-2"></i> Computadoras
                </a>
            </li>
            <li>
                <a href="users.html" class="nav-link text-light">
                    <i class="fa-solid fa-users me-2"></i> Usuarios
                </a>
            </li>
            <li>
                <a href="roles.html" class="nav-link text-light">
                    <i class="fa-solid fa-user-shield me-2"></i> Roles
                </a>
            </li>
            <li>
                <a href="problemtypes.html" class="nav-link text-light">
                    <i class="fa-solid fa-circle-exclamation me-2"></i> Tipos de problema
                </a>
            </li>
        </ul>
        <hr class="border-secondary">
        <div class="d-flex align-items-center small">
            <i class="fa-regular fa-circle-user me-2 fs-4"></i>
            <div class="flex-grow-1">
                <div id="currentUserName">Admin</div>
                <a href="#" id="logoutLink" class="link-light text-decoration-none">Cerrar sesión</a>
            </div>
        </div>
    </nav>

    <!-- CONTENIDO -->
    <div class="flex-grow-1 d-flex flex-column min-vh-100">
        <!-- Topbar + Breadcrumb -->
        <header class="border-bottom bg-white py-2 px-3 d-flex justify-content-between align-items-center">
            <div class="d-flex align-items-center gap-2">
                <button class="btn btn-outline-secondary btn-sm d-md-none" id="sidebarToggle">
                    <i class="fa-solid fa-bars"></i>
                </button>
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb mb-0 small">
                        <li class="breadcrumb-item"><a href="dashboard.html">Inicio</a></li>
                        <!-- Reemplazar este <li> en cada página -->
                        <li class="breadcrumb-item active" aria-current="page" id="breadcrumbCurrent">
                            Dashboard
                        </li>
                    </ol>
                </nav>
            </div>
            <span class="small text-muted d-none d-sm-inline">UniLocker · Panel administrativo</span>
        </header>

        <!-- Contenido específico de cada página -->
        <main class="flex-grow-1 p-3" id="pageContent">
            <!-- aquí va el contenido de branches, blocks, etc. -->
        </main>

        <footer class="bg-dark text-center text-light py-2 small mt-auto">
            <span>
                <i class="fa-regular fa-copyright"></i>
                2025 UniLocker · Univalle para toda la vida
            </span>
        </footer>
    </div>
</div>

<!-- Loader global -->
<div id="globalLoader" class="position-fixed top-0 start-0 w-100 h-100 d-none"
     style="background-color: rgba(0,0,0,0.35); z-index: 2000;">
    <div class="d-flex justify-content-center align-items-center h-100">
        <div class="spinner-border text-light" role="status">
            <span class="visually-hidden">Cargando...</span>
        </div>
    </div>
</div>

<!-- Toast global -->
<div class="toast-container position-fixed bottom-0 end-0 p-3">
    <div id="mainToast" class="toast align-items-center text-bg-primary border-0" role="alert"
         aria-live="assertive" aria-atomic="true">
        <div class="d-flex">
            <div class="toast-body" id="mainToastBody">
                Mensaje.
            </div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto"
                    data-bs-dismiss="toast" aria-label="Cerrar"></button>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script type="module" src="js/ui.js"></script>
<script>
    // Toggle sidebar en móvil
    document.getElementById('sidebarToggle')?.addEventListener('click', () => {
        document.getElementById('sidebar')?.classList.toggle('d-none');
    });
</script>
</body>
</html>
